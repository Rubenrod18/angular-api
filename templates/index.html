{% extends 'base.html' %}
{% block content %}
<div ng-controller="index">
    <div class="jumbotron col-sm-8 col-sm-offset-2">
        <div class="col-sm-12">
            <h2 class="text-center text-capitalize">register formulary</h2>
        </div>
        <form class="form form-horizontal" name="form" role="form" ng-submit="createUser(user, form.$valid)" novalidate>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">name <span class="text-danger">*</span></label>
                </div>
                <div class="col-sm-4">
                    <input type="text" name="name" class="form-control" ng-model="user.name" ng-pattern="regex.name" placeholder="Introduce your name" required />
                    <span class="ng-cloak text-danger" ng-show="form.name.$error.pattern">Your name is not valid. Minimum 3 characters.</span>
                    <span class="ng-cloak text-danger" ng-show="form.name.$invalid && !form.name.$pristine">This field is required!.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">last name <span class="text-danger">*</span></label>
                </div>
                <div class="col-sm-4">
                    <input type="text" name="last_name" class="form-control" ng-model="user.last_name" ng-pattern="regex.last_name" placeholder="Introduce your last name" required />
                    <span class="ng-cloak text-danger" ng-show="form.last_name.$error.pattern">Your last name is not valid. Minimum 3 characters.</span>
                    <span class="ng-cloak text-danger" ng-show="form.last_name.$invalid && !form.last_name.$pristine">This field is required!.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">gender</label>
                </div>
                <div class="col-sm-4">
                    <label class="radio-inline"><input type="radio" name="gender" ng-model="user.gender" value="male">Male</label>
                    <label class="radio-inline"><input type="radio" name="gender" ng-model="user.gender" value="female">Female</label>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-uppercase">dni</label>
                </div>
                <div class="col-sm-4">
                    <input type="text" name="dni" class="form-control" ng-pattern="regex.dni" ng-model="user.dni" placeholder="Introduce your dni"/>
                    <span class="ng-cloak text-danger" ng-show="form.dni.$error.pattern">Your dni is not valid. 8 numbers and 1 character.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">email <span class="text-danger">*</span></label>
                </div>
                <div class="col-sm-4">
                    <input type="email" name="email" class="form-control" ng-model="user.email" placeholder="Introduce your email" required/>
                    <span class="ng-cloak text-danger" ng-show="form.email.$error.pattern">Your email is not valid.</span>
                    <span class="ng-cloak text-danger" ng-show="form.email.$invalid && !form.email.$pristine">This field is required!.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">birth of date <span class="text-danger">*</span></label>
                </div>
                <div class="col-sm-4">
                    <input type="text" name="birth_date" class="form-control" ng-model="user.birth_date" ng-pattern="regex.birth_date" placeholder="DD/MM/YYYY" required/>
                    <span class="ng-cloak text-danger" ng-show="form.birth_date.$error.pattern">Your birth of date is not valid.</span>
                    <span class="ng-cloak text-danger" ng-show="form.birth_date.$invalid && !form.birth_date.$pristine">This field is required!.</span>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-1 text-right">
                    <label class="control-label text-capitalize">roles <span class="text-danger">*</span></label>
                </div>
                <div class="col-sm-4">
                    <div class="checkbox">
                        {% for role in roles %}
                            <label>
                                <input type="checkbox" name="{{ role.name }}" ng-model="user.roles.{{ role.name }}" />{{ role.description }}<br/>
                            </label>
                        {% endfor %}
                    </div>
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-4 col-sm-offset-2 text-right">
                    <input type="submit" class="btn btn-success text-capitalize" ng-disabled="form.$invalid" value="save"/>
                </div>
                <div class="col-sm-4 text-left">
                    <input type="button" class="btn btn-primary text-capitalize" ng-click="clear()" value="clear"/>
                </div>
            </div>
        </form>
    </div>
</div>
{% endblock %}
{% block scripts %}
<script defer type="text/javascript" src="/static/js/controllers/index.js"></script>
{% endblock %}
